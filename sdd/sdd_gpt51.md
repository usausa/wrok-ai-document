AI工藤開発（AI駆動開発）と仕様駆動開発（Specification-Driven Development / Spec-Driven Development, 以下SDD）は、対立する概念ではなく、むしろ「AIの使い方」を整理するうえで相互補完的な関係にあります。開発者教育の観点から、次の3つの軸で整理すると理解しやすいです。

---

## 1. 用語整理：AI駆動開発と仕様駆動開発とは

### AI駆動開発（AI工藤開発）
ここでは「AIを中心に据えて開発プロセスを組み立てる」ことを指します。

- AIにやらせる主な仕事
  - 要件のブレスト・アイデア出し
  - アーキテクチャのたたき台作成
  - コード自動生成
  - テストコード自動生成
  - ドキュメント生成  
- 特徴
  - 開発フローのあちこちにAIを組み込み、「AIを前提とした開発プロセス」を設計する。
  - 人間は『方向付け・レビュー・意思決定』を担い、AIは『大量生成・探索』を担う。

### 仕様駆動開発（SDD）
「仕様（Spec）を起点にすべてを生成していく」開発スタイルです。

- 仕様の例
  - API仕様（OpenAPI / AsyncAPI）
  - 振る舞い仕様（Gherkin, BDDシナリオ）
  - ドメインモデル（UML, ER図, DDDのユビキタス言語）
  - UI仕様（画面遷移図、コンポーネント仕様）
- 特徴
  - 先に「機能・振る舞い・制約」をできるだけ明示的に書き下し、それに基づき
    - 実装
    - テスト
    - ドキュメント
    を一貫させる。
  - 「コードより仕様が上位」という思想。

---

## 2. 関係性：AI駆動とSDDはどう噛み合うのか

### 2-1. 「AI駆動 × 仕様駆動」＝ AIで仕様を書き、仕様でコードを制御する

AIを本気で開発に組み込もうとすると、SDD的な考え方がほぼ必須になります。理由はシンプルで、

> AIに自由にコードを書かせると、  
> ・一貫性が崩れやすい  
> ・意図しない仕様が紛れ込みやすい  
> ・後からの保守コストが爆増する

からです。

そこで「仕様を先に立てる」ことで、AIを次のように制御します。

- AIに書かせるもの
  - 仕様ドラフトの生成・改善案
  - 仕様に沿ったコード
  - 仕様に沿ったテスト
  - 仕様に沿ったドキュメント
- 人間が責任をもつもの
  - 仕様の承認（合意形成）
  - 仕様とコードの乖離確認
  - ドメイン知識・ビジネス上の判断

つまり、

- **AI駆動 = 「AIを使う」という開発スタイル**  
- **仕様駆動 = 「仕様を起点にする」設計思想**  

であり、

> AI駆動開発を“安全かつ再現性高く”行うためのフレームが、仕様駆動開発

という関係になります。

---

### 2-2. 仕様なしAI駆動の危険性

SDDなしでAI駆動開発をすると、よく次の状態になります。

- そのときのプロンプト次第でコードの書き方やAPI設計が変わる
- 口頭の指示・チャット履歴にしか存在しない「隠れ仕様」が大量に発生
- コードレビュー時に「そもそも何を満たすべきだったのか」が曖昧

開発者教育の観点では、

> 「AIに頼る前に、仕様を文字として固定する」  
> 「仕様を変えるときは、まず仕様ファイルを更新してからAIに再生成させる」

という習慣を叩き込むことが重要です。

---

## 3. 実務フロー例：AI駆動SDDのステップ

実際にAIを組み込んだSDDを行うときの流れのイメージです。

### ステップ1：仕様ドラフトをAIと一緒に作る
- 人間がざっくり要件を書く（日本語でもいい）
- AIに対して：
  - 要件の抜け・曖昧さの指摘
  - ユースケースの洗い出し
  - API仕様・振る舞い仕様への変換  
  を依頼して「仕様ドラフト」を作る。
- 開発者・PdM・ドメインエキスパートでレビューし、仕様を確定（バージョン管理）。

### ステップ2：仕様から実装とテストをAIに生成させる
- 入力：仕様（例：OpenAPI, BDDシナリオ, ドメインモデル）
- AIに対し：
  - 「この仕様に厳密に従い、バックエンドのエンドポイントを実装して」
  - 「この仕様を満たすユニットテスト・E2Eテストを書いて」
- ポイント：  
  「仕様外の勝手な判断をしないこと」「疑問点は質問すること」などをプロンプトに明示。

### ステップ3：人間によるレビューと仕様へのフィードバック
- コードレビューでは、
  - コードが「仕様を満たしているか」
  - 「仕様からは読み取れない挙動をしていないか」
  を主眼に置く。
- 仕様の不備に気づいたら、
  - まず仕様を修正
  - そのうえでAIに再生成させる  
  ことで、仕様と実装のズレを常に収束させる。

### ステップ4：運用中の変更も「仕様 → AI生成」の順を守る
- 機能変更やバグ修正時も、
  - 先に仕様を更新
  - その仕様を入力にAIで修正コード・テストを生成
- チャットだけでロジックをいじらない  
  → 「変更は必ず仕様に反映されている」状態を保つ。

---

## まとめ：教育のポイント

開発者に教える際は、次のように整理すると伝わりやすくなります。

1. **AI駆動開発は「AIを前提とした開発プロセス設計」のこと**
2. **仕様駆動開発は「仕様を真ん中に置いた開発思想」のこと**
3. AIを野放しにするとカオスになるので、
   - 仕様を“AIを縛る契約書”として扱う
   - 「仕様 → コード・テスト・ドキュメント」をAIにやらせる
4. 開発者の役割は、
   - 仕様を作る／合意する
   - 仕様と実装の整合性を監視する
   - ドメイン・ビジネス判断を行うこと

もし必要であれば、  
「API開発を題材にしたAI駆動SDDの具体的なプロンプト例」や  
「チームでSDD＋AIを導入するときの最小セットのルール例」も提示できます。
